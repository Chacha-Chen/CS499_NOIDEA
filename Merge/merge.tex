\documentclass[12pt,a4]{article}

\usepackage{graphicx,amsmath,amssymb,amsthm, boxedminipage,xcolor}
\usepackage[lined,boxed]{algorithm2e}
\usepackage{float}
\usepackage{subfig}
\usepackage{graphicx}
\usepackage{amsthm}

\newtheoremstyle{exercise}{}{}{}{}{\bf}{.}{ }{}

\theoremstyle{exercise}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{exerciseD}[theorem]{*Exercise}
\newtheorem{exerciseDD}[theorem]{**Exercise}

\newenvironment{solution}
  {\renewcommand\qedsymbol{$\blacksquare$}\begin{proof}[Solution]}
  {\end{proof}}

\date{}

\title{
	Mathematical Foundations \\of \\Computer Science\\
	\vspace{3mm}
	{\normalsize CS 499,	Shanghai Jiaotong University,  Dominik Scheder\\}
	{\normalsize Group Name: \textbf{NoIdea}}
}
 \begin{document}
\maketitle

\section{Broken Chessboard and Jumping With Coins}

\subsection{Tiling a Damaged Checkerboard}

\begin{exercise}
    Re-write the proof in your own way,  using simple English sentences.
\end{exercise}

\begin{proof}
	Let's color the board black and beige, just like a typical chessboard.
    In this case, there are 32 black and 30 beige squares.

    \begin{figure}[h]
        \small
        \centering
        \includegraphics[width=5cm]{slightlydamaged.png}
        \label{fig:slightlyDamagedBoard}
    \end{figure}

    Since a domino stone placed in the board will cover both a black square and a beige square,
    it's obviously that we can't fully tile the board with $1 \times 2$ domino stones.

\end{proof}

\begin{exercise}
    Look at the seriously damaged $8 \times 8$ checkerboard.
    For convenience I already colored it black and white (or rather black and beige):

    Try to tile it with domino stones and you will fail.
    However, since there are $24$ black and $24$ beige squares, the simple argument from the lecture will fail.

    Prove that the above board cannot be tiled. Try to ﬁnd a short and simple argument!
\end{exercise}

\begin{proof}
	To prove the claim, let's start by focusing on the ``corridor" in the chessboard.
    \begin{figure}[h]
        \small
        \centering
        \includegraphics[width=5cm]{corridor.png}
        \label{fig:corridor}
    \end{figure}

    There are 7 ways to tile the ``corridor" with domino stones:

    \begin{figure}[H]
        \centering
        \subfloat[]{\includegraphics[width=3cm]{corridor_a.png}}
        \subfloat[]{\includegraphics[width=3cm]{corridor_b.png}}
        \subfloat[]{\includegraphics[width=3cm]{corridor_c.png}}
        \subfloat[]{\includegraphics[width=3cm]{corridor_d.png}} \\
        \subfloat[]{\includegraphics[width=3cm]{corridor_e.png}}
        \subfloat[]{\includegraphics[width=3cm]{corridor_f.png}}
        \subfloat[]{\includegraphics[width=3cm]{corridor_g.png}}
	\label{fig:corridorTile}
    \end{figure}

    In the case (a) and (b), each of the two remaining parts of the chessboard contains 21 square.
    Since a domino stone tiles 2 sqaures, the  (a) and the case (b) are ruled out.

    How about (c) ,(d), (e), (f) and (g)? We consider the possible remaining parts in these cases:

    \begin{figure}[H]
        \centering
        \subfloat{\includegraphics[width=2cm]{left_a.png}}
        \subfloat{\includegraphics[width=2cm]{left_b.png}}
        \subfloat{\includegraphics[width=2cm]{left_c.png}}
        \subfloat{\includegraphics[width=2cm]{left_d.png}}
	\label{fig:leftPart}
    \end{figure}

    Becasue the number of black squares and beige squares is not equal, all of the possible remaining parts cannot be tiled.

\end{proof}




\subsection{Jumping with Coins}

\begin{exercise}
    You jump around with two coins.
    Show that you cannot increase the distance between the two coins.
\end{exercise}

\begin{proof}
    Clearly, the distance between two coins is fixed in one jump.

    \begin{figure}[H]
        \small
        \centering
        \includegraphics[width=5cm]{twocoins.png}
        \label{fig:twoCoins}
    \end{figure}

\end{proof}


\begin{exercise}
    You jump around with three coins.
    Show that you cannot start with an equilateral triangle and end up with a bigger equilateral triangle.
    Give a simple proof!
\end{exercise}

\begin{proof}
    During a jump, either the side or the height of the triangle will not change, thus the area stays the same.

    \begin{figure}[H]
        \small
        \centering
        \includegraphics[width=5cm]{threecoins.png}
        \label{fig:threeCoins}
    \end{figure}

\end{proof}

You jump around with four coins which in the beginning form a square of side length $1$.

\begin{exercise}
    Show that you cannot form a square of side length $2$.
\end{exercise}

\begin{proof}
    Divide the square(it can change into a normal quadrilateral after several jumps) into two triangles.

    \begin{figure}[H]
        \small
        \centering
        \includegraphics[width=5cm]{fourcoins.png}
        \label{fig:fourCoins}
    \end{figure}

    The same as one triangle, the area of the quadrilateral cannot change.
    This means it's impossible to form a square of side length 2, whose area is 4.

\end{proof}

\begin{exercise}
    Show that you cannot achieve a position in which two coins are at the same position.
\end{exercise}

\begin{proof}
    If two coins will be at the same position after one jump, then there must be three collinear coins with the same distance before the jump.

    What happens during the jump? The area of the shape formed with four coins reduces to half.

    \begin{figure}[H]
        \small
        \centering
        \includegraphics[width=5cm]{coinssameposition.png}
        \label{fig:coinsSamePosition}
    \end{figure}

    We have proved that if the inital shape formed with four coins is a square, the area of the shape will never change no matter how many jumps the coins give.

    Therefore, the jump that causes two coins to stay at the same position will not happen.

\end{proof}

\begin{exercise}
    Show that you cannot form a larger square.
\end{exercise}

\begin{proof}
    In exercise 1.5, we have proved that the quadrilateral formed with four coins has a constant area.
    So a larger square can't be formed.
\end{proof}

\section{Exclusion-Inclusion}

\subsection{Sets}

\begin{exercise}
Let A, B, C be ﬁnite sets.
\begin{enumerate}

\item Prove that $\left\vert{A \cup B}\right\vert =  \left\vert{A}\right\vert + \left\vert{B}\right\vert - \left\vert{A\cap B}\right\vert$.
\item What about $\left\vert{A\cup B\cup C}\right\vert$ ? Find a formula in terms of pairwise and three-wise intersections.

\item What about $\left\vert{A\cup B\cup C \cup D}\right\vert$? Find a formula in terms of pairwise, three-wise, and four-wise intersections.
\end{enumerate}
\end{exercise}

\begin{enumerate}
\item \begin{proof}
As is shown in the Venn diagram below, $\left\vert{A}\right\vert + \left\vert{B}\right\vert$ add the common part $\left\vert{A\cap B}\right\vert $ twice. So it should be subtracted once if we want to count $\left\vert{A \cup B}\right\vert $.
\begin{figure}[h]
\centering
\includegraphics[scale=0.1]{Venn}
\caption{Venn Diagram}
\end{figure}
\end{proof}
\item \begin{solution}
$\left\vert{A\cup B\cup C}\right\vert = \left\vert{A}\right\vert + \left\vert{B}\right\vert + \left\vert{C}\right\vert - \left\vert{A\cap B}\right\vert - \left\vert{A\cap C}\right\vert - \left\vert{B \cap C}\right\vert + \left\vert{A\cap B \cap C}\right\vert$
\end{solution}
\item \begin{solution}
$\left\vert{A\cup B\cup C \cup D}\right\vert = \left\vert{A}\right\vert + \left\vert{B}\right\vert + \left\vert{C}\right\vert + \left\vert{D}\right\vert - \left\vert{A\cap B}\right\vert - \left\vert{A\cap C}\right\vert - \left\vert{A \cap D}\right\vert - \left\vert{B \cap C}\right\vert - \left\vert{B \cap D}\right\vert - \left\vert{C \cap D}\right\vert + \left\vert{A\cap B \cap C}\right\vert + \left\vert{A\cap B \cap D}\right\vert + \left\vert{A\cap C \cap D}\right\vert + \left\vert{B\cap C \cap D}\right\vert - \left\vert{A\cap B \cap C\cap D}\right\vert$
\end{solution}
\end{enumerate}

\begin{exercise}
\end{exercise}
	\begin{solution}
$\left\vert{A_1\cup\ldots\cup A_n}\right\vert = \sum\limits_{i=1}^{n}\left\vert{A_i}\right\vert - \sum\limits_{i,j:1\le i<j\le n}\left\vert{A_i\cap A_j}\right\vert + \\
\sum\limits_{i,j,k:1\le i<j<k\le n}\left\vert{A_i\cap A_j \cap A_k}\right\vert - \ldots + (-1)^{n-1}\left\vert{A_1\cap\ldots\cap A_n}\right\vert$
	\end{solution}
\begin{exercise}
\end{exercise}	
\begin{proof}\end{proof}
\begin{enumerate}
		 \item proof using induction on n\\

			 First, let $A_{n,k} = \sum\limits_{1\le i_1<i_2<\ldots\le n}\left\vert{A_{i_1}\cap A_{i_2}\ldots\cap A_{i_k}}\right\vert$, which denotes the sum of all the possible k-wise intersections in $\{A_1,A_2,\ldots,A_n\}$.\\

			 Then the Inclusion-exclusion principle which we want to prove is as follows:\\
			 $\left\vert{A_1\cup\ldots\cup A_n}\right\vert = \sum\limits_{k=1}^{n}(-1)^{k+1}A_{n,k}$\\
		 
		 The theorem holds for $n=1$, obviously.\\
	
		 The theorem holds for $n=2$, as is showed in the $2.1.1$\\

		 For the induction step, we want to show if it holds for $n-1$, then it holds for $n$.\\


		\begin{equation} 
		\begin{split}
		\left\vert{A_1\cup\ldots\cup A_n}\right\vert &= \left\vert{A_1\cup\ldots\cup A_{n-1}}\right\vert + \left\vert{A_n}\right\vert - \left\vert{(A_1\cup\ldots\cup A_{n-1})\cap A_n }\right\vert\\
		&= \sum\limits_{k=1}^{n-1}(-1)^{k+1}A_{n-1,k} + \left\vert{A_n}\right\vert - \left\vert{(A_1\cup\ldots\cup A_{n-1})\cap A_n }\right\vert \\	
		&= \sum\limits_{k=1}^{n-1}(-1)^{k+1}A_{n-1,k} + \left\vert{A_n}\right\vert - \left\vert{(\cup_{i=1}^{i=n-1}(A_i\cap A_n) }\right\vert \\
		\end{split}
		\end{equation}




		 Let $B_i = (A_i\cap A_n)$.\\

		 Similarly, let $B_{n-1,k} = \sum\limits_{1\le i_1<i_2<\ldots\le n-1}\left\vert{B_{i_1}\cap B_{i_2}\ldots\cap B_{i_k}}\right\vert$, which denotes the sum of all the possible k-wise intersections in $\{B_1,B_2,\ldots,B_n-1\}$.\\

		 $(1)$ now becomes\\

		 \begin{equation}
		  \sum\limits_{k=1}^{n-1}(-1)^{k+1}A_{n-1,k} + \left\vert{A_n}\right\vert - \left\vert{(\cup_{i=1}^{i=n-1}B_i }\right\vert 
		 \end{equation}

		 Similarly, it holds:\\
		 \begin{equation}
		 \left\vert{B_1\cup\ldots\cup B_{n-1}}\right\vert = \sum\limits_{k=1}^{n-1}(-1)^{k+1}B_{n-1,k}
		 \end{equation}

		 $(2)$ now becomes\\
		 \begin{equation}
		  \sum\limits_{k=1}^{n-1}(-1)^{k+1}A_{n-1,k} + \left\vert{A_n}\right\vert +  \sum\limits_{k=1}^{n-1}(-1)^kB_{n-1,k}
		 \end{equation}	
		 In addition,
	    \begin{equation}
		\left\vert{A_n}\right\vert = (-1)^{1+1}\left\vert{A_n}\right\vert
  		\end{equation}	
  		Thus, 
  		\begin{equation}
  		\left\vert{A_n}\right\vert+\sum\limits_{k=1}^{n-1}(-1)^kB_{n-1,k} = \sum\limits_{k=1}^{n}(-1)^{k+1}A_{n,k} - \sum\limits_{k=1}^{n-1}(-1)^{k+1}A_{n-1,k}
  		\end{equation}	 

		 Then equation(4) finally becomes: $\sum\limits_{k=1}^{n}(-1)^{k+1}A_{n,k}$

		 	 




		\item proof not using induction on n\\

    First, let $A = \left\vert{A_1\cup\ldots\cup A_{n-1}}\right\vert $. \\
    Function $P_S(x)$ defined as if set $S$ includes element $x$, then $P_S(x) = 1$, else $P_S(x) = 0$.\\

    $(1)$ If $P_A(x) = 1$, there must exist an $i$ that $P_{A_i}(x) = 1$. In this way:\\
    $(P_A(x) - P_{A_1}(x))(P_A(x) - P_{A_2}(x))\ldots(P_A(x) - P_{A_n}(x)) = 0$\\

    $(2)$ According to the properities of set, $P_{A_i}(x)P_{A_j}(x) = P_{A_i \cap A_j}(x)$.\\

    $(3)$ Let $P_{n,k}$ denotes $P_{A_{i_1}\cap A_{i_2}\ldots\cap A_{i_k}}(1\le i_1<i_2<\ldots\le n)$.\\
    Then decompose the first equation, we can have:\\
    $P_A(x) = \sum\limits_{k=1}^{n}P_{n,k}$\\
    which can be demonstrated as:\\
     $\left\vert{A_1\cup\ldots\cup A_n}\right\vert = \sum\limits_{k=1}^{n}(-1)^{k+1}A_{n,k}$\\
\end{enumerate}

\section{Feasible Intersection Patterns}


\begin{exercise}  Find sets A1; A2; A3; A4 such that all pairwise intersections have size 3 and all three-wise intersections have size 1. \\Formally,
 1.$|A_i\bigcap A_j| = 3 for all {i,j} \in (^{[4]}_{2})$,
 2.$|A_i\bigcap A_j\bigcap A_k| = 1$ for all $\{i,j,k\}\in (^{[4]}_{3})$.

    \begin{figure}[H]
	\begin{center}
		\includegraphics[width=0.32\linewidth]{Exercise31-1.png}
		\caption{Area Diagram}
		\label{Fig:1}
	\end{center}
	\vspace{-0.5em}
    \end{figure}

\end{exercise}


\begin{proof}
    As is shown in figure 2.
    From $|A_i\bigcap A_j| = 3$ for all ${i,j} \in (^{[4]}_{2})$.
    \\We can infer that Domain$\{3,10,12,5\}$,
    $\{4,5,10,13\}$,$\{5,6,12,14\}$,$\{5,8,13,14\}$ has each 3 elements.
    \\From$|A_i\bigcap A_j\bigcap A_k| = 1$ for all $\{i,j,k\}\in (^{[4]}_{3})$

    We can infer that Domain$\{5,10\},\{5,12\},\{5,13\},\{5,14\}$ has each 1 elements.
    $\{5,8,13,14\}$have 3 elements, and $\{5,13\} , \{5,14\}$ has each 1 element.
    For one thing,Domain$\{8\}\{13\}\{14\}$ is empty and Domain ${5}$ has one element.
    \\Then it is obvious that there is 1 in\{5\}, 0 in$\{10\}\{12\}\{13\}\{14\}$, 2 in $\{3\}\{4\}\{6\}\{8\}$, and arbitrary number in \{1\}\{2\}\{7\}\{8\}.
    \\As it is shown in the left figure in Figure 3.\\


    \begin{figure}[H]
    \centering
    \begin{minipage}[c]{0.5\textwidth}
    \centering
    \includegraphics[height=4.5cm,width=4.5cm]{Exercise31-2.png}
    \end{minipage}%
    \begin{minipage}[c]{0.5\textwidth}
    \centering
    \includegraphics[height=4.0cm,width=4.7cm]{Exercise31-3.png}
    \end{minipage}
    \caption{Distribution}
    \end{figure}



    %\begin{figure}[h]
	%\begin{center}
	%	\includegraphics[width=0.32\linewidth]{Exercise3.1-2.png}
	%	\caption{}
	%	\label{Fig:2}
	%\end{center}
	%\vspace{-0.5em}
    %\end{figure}

    For another thing, Domain\{5\}has no element.
    \\And then Domain$\{10\}\{12\}\{13\}\{14\}\{3\}\{4\}\{6\}\{8\}$has each 1 element.

    It is shown in the right one in Figure 3.
    %\begin{figure}[h]
	%\begin{center}
	%	\includegraphics[width=0.32\linewidth]{Exercise3.1-3.png}
	%	\caption{}
	%	\label{Fig:3}
	%\end{center}
	%\vspace{-0.5em}
    %\end{figure}
\end{proof}

\begin{exercise}
	In the spirit of the previous questions, let us call a sequence $(a_1,a_2,...,a_n)\in\mathbb{N}_0$ feasible if there are sets $A_1,...,A_n$ such that all k-wise intersections have size $a_k$. That is, $|Ai| = a_{1}$ for all i, $|A_i \bigcap A_j| = a_2$ for all $i \not= j$ and so on. The previous exercise would thus state that $(5, 3, 1, 0)$ is not feasible, but $(6, 3, 1, 0)$ is, as one solution of Exercise 3.1 shows.
\end{exercise}

\begin{proof}
	Because $|A_1 \bigcap A_2 \bigcap A_3 \bigcap A_4 |=0$.
\\ It is the same as the second situation.
\\From picture 3 in 3.1 we can know that there are at least 6 elements in $A_i$.
\\So $(5,3,1,0)$ is not feasible.
\end{proof}


\begin{exercise}

	Suppose I give you a sequence $(a_1,...,a_n)$. Find a way to determine whether such a sequence is feasible or not.
\end{exercise}



\begin{proof}
Given $A_1,...,A_n I\subseteq{1,...,n}$ define $A_i=\bigcap\limits_{i \in I} A_i$.
\\Given $B_1,...,B_n I\subseteq{1,...,n}$ define $B_i=\bigcap\limits_{i \in I} A_i\bigcup \limits_{j \notin A_i}$.
\\Use $A_1,A_2,A_3$ as an example,draw the picture below.
 \begin{figure}[H]
	\begin{center}
		\includegraphics[width=0.32\linewidth]{Exercise33-1.png}
		\caption{Example}
		\label{Fig:3}
	\end{center}
	\vspace{-0.5em}
    \end{figure}
    Obviously, iff for every i,$B_i \geq 0$,the B-table is feasible.
    \\For given $(a_1,...,a_n),A{1}=a_1,A{i,j}(i\not=j)a_2,...,A{i,2,...,n}=a_n$.
    \\Besides,for all ${i},{i,j}(i \not=j),{i,j...k}$(i,j,...k are different) A{}has the same value.
    \\So we can infer that $A_i=A\sum_{j=1}^{i-1}A_j$.
    ${A_1,...,A_n}={a_1,...,a_n}$.
    \\So iff $A_i=A\sum_{j=1}^{i-1}A_j$,the sequence is feasible.
\end{proof}


\end{document}

\end{document}
